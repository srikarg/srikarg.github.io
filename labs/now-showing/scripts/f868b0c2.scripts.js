"use strict";angular.module("NowShowingApp",[]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/movie/:index",{templateUrl:"views/movie.html",controller:"MovieCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("NowShowingApp").controller("MainCtrl",["$scope","dataStore",function(a,b){b.getData().then(function(b){a.movies=b.data.movies})}]),angular.module("NowShowingApp").service("dataStore",["$q","$http",function(a,b){var c=[],d={};return d.getData=function(){var d=a.defer();return 0===c.length?b.jsonp("http://api.rottentomatoes.com/api/public/v1.0/lists/movies/in_theaters.json?apikey=vsca9xhtkejznjmu8m4d5xs4&country=us&page_limit=16&callback=JSON_CALLBACK").success(function(a){return c=a}):(d.resolve({data:c}),d.promise)},d}]),angular.module("NowShowingApp").controller("MovieCtrl",["$scope","dataStore","$routeParams","$location",function(a,b,c,d){b.getData().then(function(b){a.movies=b.data.movies;var e=parseInt(c.index);e>a.movies.length-1&&d.path("#/"),a.movie=a.movies[e],a.currentPage=e,a.nextPage=a.currentPage+1<16?a.currentPage+1:a.currentPage,a.prevPage=a.currentPage-1>=0?a.currentPage-1:a.currentPage})}]);